// IW7 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

_id_DF0C()
{
    scripts\aitypes\bt_util::init();
    behaviortree\elvira::_id_DEE8();
    scripts\asm\elvira\mp\states::_id_2371();
    scripts\mp\agents\elvira\elvira_tunedata::setuptunedata();
    thread _id_FAB0();
}

_id_FAB0()
{
    level endon( "game_ended" );

    if ( !isdefined( level._id_18EE ) )
        level waittill( "scripted_agents_initialized" );

    if ( !isdefined( level._id_10970 ) )
        level._id_10970 = [];

    level._id_10970["elvira"] = [];
    level._id_18EE["elvira"]["setup_func"] = ::_id_FA8A;
    level._id_18EE["elvira"]["setup_model_func"] = ::_id_FACE;
}

_id_FACE( var_0 )
{
    self setmodel( "fullbody_zmb_hero_elvira" );
}

_id_FA8A()
{
    self._id_0010 = 0.8;
    self._id_0202 = 0;
    self._id_0293 = 48;
    self._id_A8BA = 0;
    self._id_01D3 = 67108864;
    self._id_B632 = 9216;
    self._id_B5F1 = 45;
    self._id_B5F4 = 45;
    self._id_B5F2 = 1.2;
    self._id_B4D9 = 50;
    self._id_B5D9 = 32;
    self._id_B628 = 300;
    self._id_B626 = 450;
    self._id_013C = 1000;
    self._id_013E = 1000;
    self._id_013D = 1000;
    self._id_1A44 = 50;
    self._id_B62D = 70;
    self._id_B62E = 70;
    self._id_B631 = 80;
    self._id_B62F = squared( self._id_B62E );
    self._id_B607 = 0.5;
    self._id_B601 = 9999;
    self._id_129AF = 55;
    self.radius = 15;
    self.height = 65;
    self._id_0033 = 0;
    _id_FAFE();
    thread _id_899D();
    level.the_hoff_revive = 1;
    thread elviracleanup();
}

elviracleanup()
{
    self waittill( "death" );
    level.the_hoff_revive = undefined;
}

_id_FAFE()
{
    self.targetcrawlerfunction = ::_id_11562;
    self.targetingfunctions = [ ::_id_11562, ::_id_11559, ::_id_1156F, ::_id_1157B, ::_id_11570 ];
    self.targetingfunctionchances = [ 0, 47, 21, 21, 11 ];
}

_id_899D()
{
    self endon( "death" );

    for (;;)
    {
        self waittill( "enemy" );

        for (;;)
        {
            if ( isdefined( self._id_010C ) )
                self._id_6571 = gettime() + 1000;
            else if ( isdefined( self._id_6571 ) )
            {
                if ( gettime() > self._id_6571 )
                {
                    self._id_6571 = undefined;
                    break;
                }
            }

            wait 0.25;
        }
    }
}

_id_11570()
{
    var_0 = 70;
    var_1 = 15;

    if ( isdefined( self._id_010C._id_18F4 ) )
    {
        var_0 = self._id_010C._id_18F4;
        var_1 = self._id_010C._id_18F9;
    }

    var_2 = var_0 * randomfloatrange( 0.25, 0.35 );
    var_3 = var_1 * 0.5;
    var_4 = var_3 * -1;
    var_5 = randomfloatrange( var_4, var_3 );
    var_6 = anglestoright( self.angles );
    var_7 = ( var_6[0] * var_5, var_6[1] * var_5, var_2 );
    var_8 = self._id_010C.origin + var_7;
    return var_8;
}

_id_1157B()
{
    var_0 = 70;
    var_1 = 15;

    if ( isdefined( self._id_010C._id_18F4 ) )
    {
        var_0 = self._id_010C._id_18F4;
        var_1 = self._id_010C._id_18F9;
    }

    var_2 = var_0 * randomfloatrange( 0.65, 0.75 );
    var_3 = var_1 * 0.75;
    var_4 = anglestoright( self.angles );
    var_5 = ( var_4[0] * var_3, var_4[1] * var_3, var_2 );
    var_6 = self._id_010C.origin + var_5;
    return var_6;
}

_id_1156F()
{
    var_0 = 70;
    var_1 = 15;

    if ( isdefined( self._id_010C._id_18F4 ) )
    {
        var_0 = self._id_010C._id_18F4;
        var_1 = self._id_010C._id_18F9;
    }

    var_2 = var_0 * randomfloatrange( 0.65, 0.75 );
    var_3 = var_1 * -0.75;
    var_4 = anglestoright( self.angles );
    var_5 = ( var_4[0] * var_3, var_4[1] * var_3, var_2 );
    var_6 = self._id_010C.origin + var_5;
    return var_6;
}

_id_11559()
{
    var_0 = 70;
    var_1 = 15;

    if ( isdefined( self._id_010C._id_18F4 ) )
    {
        var_0 = self._id_010C._id_18F4;
        var_1 = self._id_010C._id_18F9;
    }

    var_2 = var_0 * randomfloatrange( 0.65, 0.75 );
    var_3 = var_1 * 0.5;
    var_4 = var_3 * -1;
    var_5 = randomfloatrange( var_4, var_3 );
    var_6 = anglestoright( self.angles );
    var_7 = ( var_6[0] * var_5, var_6[1] * var_5, var_2 );
    var_8 = self._id_010C.origin + var_7;
    return var_8;
}

_id_11562()
{
    var_0 = self._id_010C gettagorigin( "j_head" );
    return var_0;
}

_id_CB30()
{
    if ( isdefined( self._id_010C ) && isdefined( self._id_010C._id_565C ) && self._id_010C._id_565C )
    {
        if ( isdefined( self.targetcrawlerfunction ) )
            return self.targetcrawlerfunction;
    }

    var_0 = 0;
    var_1 = randomint( 100 );

    for ( var_2 = 0; var_2 < self.targetingfunctionchances.size; var_2++ )
    {
        var_3 = self.targetingfunctionchances[var_2];

        if ( var_1 < var_3 + var_0 )
            return self.targetingfunctions[var_2];

        var_0 = var_0 + var_3;
    }

    return undefined;
}

_id_7E8E()
{
    var_0 = self._id_010C gettagorigin( "j_head" );
    return var_0;
}

_id_7E66()
{
    if ( scripts\engine\utility::_id_9CEE( self._id_565C ) )
        return _id_7E8E();

    var_0 = 70;
    var_1 = 15;

    if ( isdefined( self._id_010C._id_18F4 ) )
    {
        var_0 = self._id_010C._id_18F4;
        var_1 = self._id_010C._id_18F9;
    }

    var_2 = var_0 * 0.75;
    var_3 = ( 0, 0, var_2 );
    var_4 = self._id_010C.origin + var_3;
    return var_4;
}

getenemy()
{
    return self._id_010C;
}
