// IW7 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

_id_DF0C()
{
    scripts\aitypes\bt_util::init();
    behaviortree\lumberjack::_id_DEE8();
    scripts\asm\lumberjack\mp\states::_id_2371();
    thread _id_FAB0();
}

_id_FAB0()
{
    level endon( "game_ended" );

    if ( !isdefined( level._id_18EE ) )
        level waittill( "scripted_agents_initialized" );

    level._id_18EE["lumberjack"]["setup_func"] = ::_id_FA8A;
    level._id_18EE["lumberjack"]["setup_model_func"] = ::_id_FACE;
    level.agent_funcs["lumberjack"]["on_damaged"] = _id_0CBC::_id_C5CD;
    level.agent_funcs["lumberjack"]["gametype_on_damage_finished"] = _id_0CBC::_id_C5CE;
    level.agent_funcs["lumberjack"]["gametype_on_killed"] = _id_0CBC::_id_C5D2;
    level._id_1094E["lumberjack"] = ::should_spawn_lumberjack;
}

_id_FA8A()
{
    _id_0F72::_id_FA8A();
}

_id_FACE( var_0 )
{
    self setmodel( "zombie_lumberjack" );
    thread delay_eye_glow();
}

delay_eye_glow()
{
    self endon( "death" );
    wait 0.5;
    self _meth_80BB( 1, 0.1 );
}

_id_C5CE( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8, var_9, var_10, var_11, var_12 )
{
    _id_0F72::_id_C5CE( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8, var_9, var_10, var_11, var_12 );
}

_id_C5D2( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8 )
{
    _id_0F72::_id_C5D2( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8 );
}

_id_C4BD( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8, var_9 )
{
    _id_0F72::_id_C4BD( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8, var_9 );
}

should_spawn_lumberjack()
{
    var_0 = 0;

    if ( level._id_13BD3 >= 20 )
        var_0 = min( level._id_13BD3 - 10, 20 );
    else
        var_0 = level.lumberjack_spawn_percent;

    var_1 = 5;

    if ( getdvarint( "scr_force_lumberjack_spawn", 0 ) == 1 )
    {
        var_1 = 0;
        var_0 = 100;
    }

    if ( getdvarint( "scr_force_no_lumberjack_spawn", 0 ) == 1 )
    {
        var_1 = 500;
        var_0 = 0;
    }

    if ( level._id_13BD3 > var_1 )
    {
        if ( randomint( 100 ) < var_0 )
            return "lumberjack";

        return undefined;
    }

    return undefined;
}
