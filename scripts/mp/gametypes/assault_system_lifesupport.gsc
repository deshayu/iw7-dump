// IW7 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

init()
{
    if ( !isdefined( level._id_23AB ) )
        level._id_23AB = [];

    var_0 = spawnstruct();
    level._id_23AB["lifesupport"] = var_0;
}

_id_FACA( var_0 )
{
    var_1 = getentarray( var_0, "targetname" );

    if ( var_1.size == 0 )
        return;

    foreach ( var_3 in var_1 )
        _id_AC73( var_3 );
}

_id_AC73( var_0 )
{
    var_1 = undefined;

    if ( isdefined( var_0.script_noteworthy ) )
        var_1 = getent( var_0.script_noteworthy, "targetname" );

    if ( !isdefined( var_1 ) )
    {
        var_1 = spawn( "script_model", var_0.origin );
        var_1 setmodel( "laptop_toughbook_open_on_iw6" );
        var_1.angles = var_0.angles;
    }

    var_1.health = 99999;
    var_0.visuals = var_1;
    var_2 = scripts\mp\gameobjects::createuseobject( "axis", var_0, [ var_1 ], ( 0, 0, 64 ) );
    var_2._id_01AD = "lifesupport_" + var_0._id_0336;
    var_2._id_92B8 = "use";
    var_2 _id_113A7( undefined );

    if ( isdefined( var_0._id_0334 ) )
        var_2._id_1157D = getent( var_0._id_0334, "targetname" );

    return var_2;
}

_id_113A5( var_0 )
{

}

_id_113A6( var_0, var_1, var_2 )
{

}

_id_113A7( var_0 )
{
    _id_E27D( var_0 );
    _id_113AA();
    self notify( "stop_trigger_monitor" );
}

_id_113AB()
{
    scripts\mp\gameobjects::allowuse( "friendly" );
    scripts\mp\gameobjects::_id_FB08( 1 );
    scripts\mp\gameobjects::_id_FB14( 1 );
    scripts\mp\gameobjects::_id_FB07( &"MP_BREACH_OPERATE_SYSTEM_ON_ACTION" );
    scripts\mp\gameobjects::_id_FB06( &"MP_BREACH_OPERATE_LIFESUPPORT_ON" );
    self._id_C4CB = ::_id_113A5;
    self._id_C50D = ::_id_113A6;
    self._id_C5BB = ::_id_113A7;
}

_id_113A2( var_0 )
{

}

_id_113A3( var_0, var_1, var_2 )
{

}

_id_113A4( var_0 )
{
    _id_E27D( var_0 );
    _id_113AB();
    thread _id_BA35();
}

_id_113AA()
{
    scripts\mp\gameobjects::allowuse( "enemy" );
    scripts\mp\gameobjects::_id_FB08( 2 );
    scripts\mp\gameobjects::_id_FB14( 1 );
    scripts\mp\gameobjects::_id_FB07( &"MP_BREACH_OPERATE_SYSTEM_OFF_ACTION" );
    scripts\mp\gameobjects::_id_FB06( &"MP_BREACH_OPERATE_LIFESUPPORT_OFF" );
    self._id_C4CB = ::_id_113A2;
    self._id_C50D = ::_id_113A3;
    self._id_C5BB = ::_id_113A4;
}

_id_E27D( var_0 )
{
    if ( isdefined( var_0 ) )
    {
        var_0 setclientomnvar( "ui_securing_progress", 1.0 );
        var_0 setclientomnvar( "ui_securing", 0 );
        var_0._id_12B26 = undefined;
    }
}

_id_BA35()
{
    level endon( "game_ended" );
    self endon( "stop_trigger_monitor" );

    if ( !isdefined( self._id_D41E ) )
        self._id_D41E = [];

    for (;;)
    {
        self._id_1157D waittill( "trigger", var_0 );
        var_1 = var_0 getentitynumber();

        if ( !isdefined( self._id_D41E[var_1] ) )
        {
            self._id_D41E[var_1] = var_0;

            if ( isdefined( self._id_C5B5 ) )
                [[ self._id_C5B5 ]]( self, var_0 );

            if ( self._id_D41E.size == 1 )
                thread _id_12F4E( 0.1 );
        }
    }
}

_id_12F4E( var_0 )
{
    level endon( "game_ended" );
    self endon( "stop_trigger_monitor" );

    for (;;)
    {
        foreach ( var_3, var_2 in self._id_D41E )
        {
            if ( isdefined( var_2 ) && scripts\mp\utility\game::isreallyalive( var_2 ) && var_2 istouching( self._id_1157D ) )
            {
                if ( isdefined( self._id_C5B8 ) )
                    [[ self._id_C5B8 ]]( self, var_2 );

                continue;
            }

            self._id_D41E[var_3] = undefined;

            if ( isdefined( var_2 ) )
            {
                if ( isdefined( self._id_C5B6 ) )
                    [[ self._id_C5B6 ]]( self, var_2 );
            }
        }

        if ( self._id_D41E.size == 0 )
            return;
        else
            wait( var_0 );
    }
}
