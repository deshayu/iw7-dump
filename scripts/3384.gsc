// IW7 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

_id_9699()
{
    level._id_4EFB = ::_id_4EFA;
    level._id_3C10 = 0;
    level._id_6ACD = [];
    level._id_3C16 = 0;
    level._id_6ACC = 0;
    level._id_BEB2 = "robot_kevin_upper";
    level._id_BEB1 = "robot_kevin_lower";
    level._id_74B8 = "robot_park_kevin";
    level._id_8C89 = "robot_park_kevin_headless";
    level._id_BEC8 = "robot_park_kevin_head";
    level._id_BECF = level._effect["neil_light_on"];
    scripts\engine\utility::_id_6E39( "neil_head_attached" );
    scripts\engine\utility::_id_6E39( "neil_battery_attached" );
    scripts\engine\utility::_id_6E39( "neil_firmware_attached" );
    scripts\engine\utility::_id_6E39( "quest_step_1_complete" );
    scripts\engine\utility::_id_6E39( "quest_step_2_complete" );
    scripts\engine\utility::_id_6E39( "quest_step_3_complete" );
    scripts\engine\utility::_id_6E39( "transformation_complete" );
    scripts\engine\utility::_id_6E39( "transform" );
    scripts\engine\utility::_id_6E39( "halt_neil" );
    scripts\engine\utility::_id_6E39( "landing_zone_active" );
    getent( "neil_usetrig", "targetname" ) _meth_80D2();
    var_0 = getvehiclenode( "neil_spawn", "targetname" );
    _id_F999( var_0 );
    level thread _id_BED2();
    level thread _id_1077A();
    wait 5;
    var_1 = 0;
    _id_9696( var_1 );
    _id_9697( var_1 );
}

_id_F447()
{
    level._id_BEB2 = "robot_kevin_black_upper";
    level._id_BEB1 = "robot_kevin_black_lower";
    level._id_74B8 = "robot_park_kevin_02";
    level._id_8C89 = "robot_park_kevin_headless_black";
    level._id_BEC8 = "robot_park_kevin_head_black";
    level._id_BECF = level._effect["neil_light_on_red"];
}

_id_BED2()
{
    _id_BED3();
    _id_BED4();
    _id_BED8();
    level thread _id_1176E();
}

_id_BED3()
{
    scripts\engine\utility::_id_6E4C( "neil_head_attached" );
    level._id_13BD2 = level._id_13BD3;
    wait 0.5;
    level._id_BEAB setmodel( level._id_BEB1 );
    level._id_BEAB._id_9C48 = 1;
    _func_277( "neil", 0, level._id_BEAB, 20, 1 );
    level._id_BEAB._id_12F87 = spawn( "script_model", level._id_BEAB.origin );
    level._id_BEAB._id_12F87.angles = level._id_BEAB.angles;
    level._id_BEAB._id_12F87 setmodel( level._id_BEB2 );
    level._id_BEAB._id_12F87 _id_BEDF( "happy" );
    level._id_BEAB._id_12F87 linkto( level._id_BEAB );
    level._id_BEAB._id_12F87 playsound( "neil_startup" );
    level._id_BEAB._id_12F87 scriptmodelplayanim( "IW7_cp_zom_n31l_head_on", 1 );
    level._id_BEAB _meth_8318( 1 );
    level._id_BEAB._id_12F87 _meth_8318( 1 );
    level._id_BEAB _meth_8364( "allies" );
    level._id_BEAB _meth_8363( "N31L" );
    wait 0.5;
    _id_0D45::_id_AF7D( level._id_13BD1, level._id_13BD2 );
    wait 2;
    level._id_BEAB._id_12F87 thread _id_BECD( "n31l_spawn_assembly" );
    level thread _id_833E( 100 );
    level._id_BEAB startpath();
    level._id_BEAB vehicle_setspeed( 2, 1, 1 );
    level._id_BEAB waittill( "reached_end_node" );
    var_0 = getvehiclenode( "neil_start_node", "targetname" );
    level._id_BEAB startpath( var_0 );
    level._id_BEAB thread _id_BED0( var_0 );
    scripts\engine\utility::_id_6E2A( "transformation_complete" );
    _id_BECC( level._id_BEAB );
    _id_BEB6( level._id_BEAB );
}

_id_BED4()
{
    _id_BED6();
    _id_10778();
    _id_BEBD( level._id_BEAB, &"CP_ZMB_INTERACTIONS_MISSING_BATTERY" );

    for (;;)
    {
        level._id_BEAB._id_13084 waittill( "trigger", var_0 );

        if ( !var_0 _id_0A77::_id_9D05() || !isdefined( level._id_BEB0 ) )
            continue;

        break;
    }

    var_1 = scripts\engine\utility::_id_817E( "neil_repair", "script_noteworthy" );
    _id_1728( var_1, var_0 );
    _id_BEBC( level._id_BEAB );
    level _id_BED7();
    level._id_13BCE = level._id_13BD3;
    _id_0D45::_id_AF7B( level._id_13BCD, level._id_13BCE );
    level thread _id_833E( 100 );
    scripts\engine\utility::_id_6E2A( "halt_neil" );
    scripts\engine\utility::_id_6E2A( "transform" );
    level._id_BEAB vehicle_setspeed( 2, 1, 1 );
    wait 1.5;
    scripts\engine\utility::_id_6E2A( "transformation_complete" );
    _id_BEB6( level._id_BEAB );
}

_id_BED6()
{
    scripts\engine\utility::_id_6E4C( "transformation_complete" );
    level._id_BEAB _meth_83E6( 0 );
    level._id_BEAB stoploopsound();
    level._id_BEAB playsound( "neil_mvmt_stop" );
    scripts\engine\utility::_id_6E3E( "halt_neil" );
    scripts\engine\utility::_id_6E3E( "transform" );
    level._id_BEAB._id_12F87 playsound( "n31l_challenge_pause" );
}

_id_BED7()
{
    _id_BEC4();
    wait 1;
    level._id_BEAB._id_12F87 playsound( "n31l_challenge_reactivate" );
    wait 4;
}

_id_BED8()
{
    _id_BEDA();
    _id_10779();
    _id_BEBD( level._id_BEAB, &"CP_ZMB_INTERACTIONS_MISSING_FLOPPY" );

    for (;;)
    {
        level._id_BEAB._id_13084 waittill( "trigger", var_0 );

        if ( !var_0 _id_0A77::_id_9D05() || !isdefined( level._id_BEC3 ) )
            continue;

        break;
    }

    var_1 = scripts\engine\utility::_id_817E( "neil_repair", "script_noteworthy" );
    _id_1728( var_1, var_0 );
    level._id_13BD0 = level._id_13BD3;
    _id_BEBC( level._id_BEAB );
    level _id_BED9();
    _id_0D45::_id_AF7C( level._id_13BCF, level._id_13BD0 );
    level thread _id_833E( 100 );
    scripts\engine\utility::_id_6E2A( "halt_neil" );
    scripts\engine\utility::_id_6E2A( "transform" );
    level._id_BEAB vehicle_setspeed( 2, 1, 1 );
    wait 1.5;
    scripts\engine\utility::_id_6E2A( "transformation_complete" );
    _id_BEB6( level._id_BEAB );
}

_id_BEDA()
{
    scripts\engine\utility::_id_6E4C( "transformation_complete" );
    wait 2;
    _id_BEDB( level._id_BEAB );
}

_id_BEDB( var_0 )
{
    wait 1;
    level._id_BEAB _meth_83E6( 0 );
    level._id_BEAB stoploopsound();
    level._id_BEAB playsound( "neil_mvmt_stop" );
    scripts\engine\utility::_id_6E3E( "halt_neil" );
    scripts\engine\utility::_id_6E3E( "transform" );
    level._id_BEAB._id_12F87 playsound( "n31l_challenge_pause" );
}

_id_BED9()
{
    _id_BEC4();
    wait 1;
    level._id_BEAB._id_12F87 playsound( "n31l_upgrade" );
    wait 3;
    level._id_BEAB._id_12F87 playsound( "kitt_challenge_restart" );
    wait 4;
}

_id_BEBD( var_0, var_1, var_2 )
{
    if ( !isdefined( var_2 ) )
    {
        level notify( "neil_enabled_changed" );
        level._id_1C3F = undefined;
    }

    var_0._id_13084 makeusable();

    if ( !isdefined( var_1 ) )
        var_1 = &"CP_ZMB_CHALLENGES_USE_NEIL";

    var_0._id_13084 sethintstring( var_1 );
    var_0._id_13084 _meth_84A2( 90 );
    var_0._id_13084 _meth_84A5( 180 );

    if ( !scripts\engine\utility::_id_9CEE( level._id_A6E1 ) )
        var_0 setscriptablepartstate( "light", "on" );
    else
    {
        var_0 setscriptablepartstate( "light", "on_red" );
        var_0._id_12F87 setscriptablepartstate( "facefx", "kitt" );
        var_0._id_12F87 _id_BEDF( "kitt" );
    }

    var_0._id_6265 = 1;

    if ( !isdefined( var_0._id_13084 ) )
        return;
}

_id_BEBC( var_0 )
{
    var_0 setscriptablepartstate( "light", "off" );
    var_0._id_6265 = 0;

    if ( !isdefined( var_0._id_13084 ) )
        return;

    var_0._id_13084 makeunusable();
}

_id_BEE2( var_0 )
{
    foreach ( var_2 in level.players )
        var_2 playlocalsound( "mp_intel_received" );

    level notify( "challenge_started" );
    var_4 = level._id_C1E1;
    var_5 = _id_7895( var_4, var_0 );
    level thread _id_0A4D::_id_15D7( var_5 );
    return var_5;
}

_id_BEB7( var_0, var_1, var_2, var_3 )
{
    if ( var_1 == "challenge_force_complete" )
        level._id_3C17[var_0].success = 1;
    else if ( var_1 == "challenge_force_fail" )
        level._id_3C17[var_0].success = 0;

    _id_0A4D::_id_4DAE();

    if ( var_1 == "challenge_deactivated" || var_1 == "challenge_force_complete" || var_1 == "challenge_force_fail" )
    {
        if ( var_3 != level._id_C1E1 )
        {
            var_3 = level._id_C1E1;
            level thread _id_8320();
            level._id_6ACC = 0;
            level._id_BEAB._id_12F87 _id_BEDF( "happy" );
            _id_0A6A::_id_E01F( "nag_no_challenge" );
        }
        else
        {
            level._id_6ACD[level._id_6ACD.size] = var_0;
            level._id_6ACC++;

            if ( level._id_6ACC >= 2 )
            {
                foreach ( var_5 in level.players )
                    var_5 thread _id_0A6A::_id_1769( "nag_no_challenge", "zmb_comment_vo", 60, 10, 6, 1 );
            }

            if ( level._id_6ACC > 3 )
                level thread _id_BEC0();

            level._id_BEAB._id_12F87 _id_BEDF( "sad" );
        }
    }
    else if ( var_3 != level._id_C1E1 )
    {
        var_3 = level._id_C1E1;
        level thread _id_8320();
        level._id_BEAB._id_12F87 _id_BEDF( "happy" );
    }
}

_id_BED1()
{
    wait 5;
    level thread _id_0A4D::_id_15D7( "next_challenge" );
    var_0 = int( gettime() + 30000 );

    foreach ( var_2 in level.players )
        var_2 setclientomnvar( "ui_intel_timer", var_0 );

    wait 1;
    var_4 = 5;
    setomnvar( "zm_neil_progress", level._id_C1E1 / var_4 );
    level._id_BEAB._id_12F87 _id_BEDF( "happy" );

    if ( getdvar( "challenge_prep_time" ) != "" )
        wait 3;
    else
        wait 28;

    level notify( "next_challenge_starting" );
    wait 1;

    if ( scripts\engine\utility::_id_6E25( "pause_challenges" ) )
    {
        foreach ( var_2 in level.players )
            var_2 setclientomnvar( "zm_show_challenge", 10 );

        scripts\engine\utility::_id_6E5A( "pause_challenges" );
    }

    _id_0A4D::_id_62C6();
    wait 5;

    if ( scripts\engine\utility::_id_6E25( "pause_challenges" ) )
    {
        foreach ( var_2 in level.players )
            var_2 setclientomnvar( "zm_show_challenge", 10 );

        scripts\engine\utility::_id_6E5A( "pause_challenges" );
    }
}

_id_BEB6( var_0 )
{
    level endon( "game_ended" );
    level._id_C1E1 = 0;
    var_1 = 5;
    setomnvar( "zm_neil_progress", level._id_C1E1 / var_1 );
    level._id_6ACD = [];
    level._id_3C12 = undefined;
    var_2 = [];

    switch ( level._id_3C16 )
    {
        case 0:
            var_2 = level._id_118A4;
            break;
        case 1:
            var_2 = level._id_118A5;
            break;
        case 2:
            var_2 = level._id_118A6;
            break;
    }

    level._id_BEAB playsound( "n31l_challenge_start" );

    if ( !isdefined( level._id_1C3F ) )
        level._id_BEAB thread _id_1C5F();

    for (;;)
    {
        var_3 = level._id_C1E1;
        var_4 = _id_BEE2( var_2 );
        var_5 = level scripts\engine\utility::_id_13734( "challenge_deactivated", "challenge_timed_out", "challenge_force_complete", "challenge_force_fail" );
        _id_BEB7( var_4, var_5, var_0, var_3 );
        level._id_3C12 = scripts\engine\utility::array_remove( level._id_3C12, var_4 );
        var_1 = 5;

        if ( level._id_C1E1 * ( level._id_3C16 + 1 ) >= var_1 * ( level._id_3C16 + 1 ) )
            break;

        if ( level._id_3C12.size <= 0 )
        {
            if ( isdefined( level._id_6ACD ) && level._id_6ACD.size > 0 )
            {
                level._id_3C12 = level._id_6ACD;
                level._id_6ACD = [];
            }
            else
                break;
        }

        _id_BED1();
    }

    level._id_3C16++;
    setomnvar( "zm_neil_progress", 1.0 );
    _id_BEB5( var_0 );
}

_id_BEB5( var_0 )
{
    level endon( "game_ended" );
    wait 5;
    var_1 = "iw7_erad_zm";
    var_2 = "cp_fullbody_synaptic_";

    foreach ( var_4 in level.players )
    {
        var_4 setclientomnvar( "zm_show_challenge", 5 );
        level._id_4BD3 = 5;
    }

    switch ( level._id_3C16 )
    {
        case 1:
            level thread _id_BEB8( var_0, var_1, &"CP_ZMB_CHALLENGES_NEIL_3" );
            break;
        case 2:
            level thread _id_BEB8( var_0, "iw7_erad_zm+eradpap1", &"CP_ZMB_CHALLENGES_NEIL_3" );
            break;
        case 3:
            level thread _id_BEB8( var_0, "iw7_erad_zm+eradpap2", &"CP_ZMB_CHALLENGES_NEIL_3" );
            return;
    }

    wait 3;
    level._id_BEAB._id_12F87 thread _id_BECD( "n31l_challenge_special_complete" );

    foreach ( var_4 in level.players )
        var_4 setclientomnvar( "zm_show_challenge", -1 );
}

_id_BEB8( var_0, var_1, var_2 )
{
    _id_BEBD( var_0, var_2 );

    for (;;)
    {
        var_0._id_13084 waittill( "trigger", var_3 );

        if ( !var_3 _id_0A77::_id_9D05() )
            continue;

        break;
    }

    _id_BEBC( var_0 );
    level._id_BEAB._id_12F87 thread _id_BECD( "n31l_challenge_success_generic_dj" );
    level thread play_dj_vo_kitt_arrival( var_3 );
    wait 5;

    if ( isdefined( var_3 ) )
        var_3 thread _id_0A6A::_id_12885( "challenge_n31l_complete", "zmb_comment_vo", "highest", 10, 1, 0, 0, 100 );

    level thread _id_12636( var_0, var_1 );
    level thread _id_833E( 100 );
}

play_dj_vo_kitt_arrival( var_0 )
{
    level endon( "game_ended" );

    if ( !isdefined( var_0 ) )
        return;

    if ( isdefined( var_0._id_13516._id_134C6 ) )
    {
        if ( isdefined( var_0._id_13516._id_134C6._id_1B46 ) )
        {
            var_1 = strtok( var_0._id_13516._id_134C6._id_1B46, "_" );

            if ( var_1[0] == "dj" )
            {
                level thread _id_0A6A::_id_12885( "dj_sign_off_kitt", "zmb_dj_vo", "highest", 10, 1, 0, 0 );
                return;
            }

            level thread _id_0A6A::_id_12885( "dj_sign_off_kitt", "zmb_dj_vo", "highest", 10, 0, 0, 0 );
            return;
        }
        else
            level thread _id_0A6A::_id_12885( "dj_sign_off_kitt", "zmb_dj_vo", "highest", 10, 0, 0, 0 );
    }
    else
        level thread _id_0A6A::_id_12885( "dj_sign_off_kitt", "zmb_dj_vo", "highest", 10, 0, 0, 0 );
}

_id_5559( var_0 )
{
    _id_BEBC( level._id_BEAB );
    scripts\engine\utility::_id_6E2A( "transformation_complete" );
    level._id_1C3F = undefined;
    level._id_BEAB _meth_83E6( 0 );
    level._id_BEAB stoploopsound();
    level._id_BEAB playsound( "neil_mvmt_stop" );
    scripts\engine\utility::_id_6E3E( "transform" );
    scripts\engine\utility::_id_6E3E( "halt_neil" );
    level._id_BEAB notify( "neil_quiet" );

    if ( !scripts\engine\utility::_id_9CEE( var_0 ) )
        return;

    level._id_BEAB._id_12F87 setmodel( "robot_kevin_upper_invisi" );
    level._id_BEAB setmodel( "robot_kevin_lower_invisi" );
}

_id_106EF( var_0 )
{
    if ( !isdefined( var_0 ) )
        var_0 = level._id_BEAB;

    var_1 = spawn( "script_model", var_0.origin );
    var_1.angles = var_0.angles;
    var_1._id_12F87 = spawn( "script_model", var_0.origin );
    var_1._id_12F87.angles = var_1.angles;
    var_1 setmodel( level._id_BEB1 );
    var_1._id_12F87 setmodel( level._id_BEB2 );
    var_1._id_12F87 linkto( var_1 );
    var_1 _meth_8318( 1 );
    var_1._id_12F87 _meth_8318( 1 );
    var_1 setscriptablepartstate( "thrusters", "liftoff" );

    if ( scripts\engine\utility::_id_9CEE( level._id_A6E1 ) )
    {
        var_1._id_12F87 _id_BEDF( "kitt" );
        var_1._id_12F87 setscriptablepartstate( "facefx", "kitt" );
    }
    else
        var_1._id_12F87 _id_BEDF( "happy" );

    return var_1;
}

_id_13631()
{
    while ( level._id_572A._id_4BBE != "idle" )
        wait 1;

    level._id_1176A = spawnstruct();
    level._id_1176A.origin = ( 0, 0, 0 );

    for (;;)
    {
        if ( level._id_572A._id_4BBE != "close_window" )
            scripts\cp\maps\cp_zmb\cp_zmb_dj::_id_F35B( "close_window" );

        wait 1;

        if ( level._id_572A._id_4BBE == "close_window" )
            break;
    }

    level._id_572A waittill( "window_closed" );
    level notify( "stop_dj_manager" );
    scripts\cp\maps\cp_zmb\cp_zmb_dj::_id_F93F();
    level._id_572A hide();
}

_id_54FB()
{
    var_0 = scripts\engine\utility::_id_8180( "dj_quest_door", "script_noteworthy" );

    foreach ( var_2 in var_0 )
        _id_0A59::_id_E019( var_2 );

    level._id_550B = 1;
}

_id_61CF()
{
    var_0 = scripts\engine\utility::_id_8180( "dj_quest_door", "script_noteworthy" );

    foreach ( var_2 in var_0 )
        _id_0A59::_id_175C( var_2 );
}

_id_12636( var_0, var_1 )
{
    _id_54FB();
    _id_5559( 1 );
    level._id_BEAB _meth_83E7( level._id_BEAB.origin, level._id_BEAB.angles );

    if ( scripts\engine\utility::_id_9CEE( level._id_A6E1 ) )
        level._id_BEAB._id_12F87 setscriptablepartstate( "facefx", "off" );

    var_2 = _id_106EF( level._id_BEAB );
    scripts\engine\utility::_id_6E3E( "landing_zone_active" );
    var_2 playsound( "neil_upgrade_rocket_launch_takeoff" );
    level thread _id_A82C();
    var_2 _meth_8212( 2000, 3, 2, 1 );
    var_2 waittill( "movedone" );
    playfx( level._effect["neil_flash"], var_2.origin );

    if ( !scripts\engine\utility::_id_9CEE( level._id_A6E1 ) )
    {
        var_2 setmodel( "robot_kevin_black_lower" );
        var_2._id_12F87 setmodel( "robot_kevin_black_upper" );
        var_2._id_12F87 _id_BEDF( "kitt" );
        var_2._id_12F87 setscriptablepartstate( "facefx", "kitt" );
    }

    var_2 notsolid();
    var_2._id_12F87 notsolid();
    var_3 = var_2.origin;
    var_2 hide();
    var_2._id_12F87 hide();
    _id_13631();

    if ( isdefined( level._id_728E ) )
    {
        if ( !isdefined( level._id_72AB["knight_rider"] ) )
            level thread [[ level._id_728E ]]( undefined, "mus_pa_sp_knightrider", undefined, undefined, undefined, "knight_rider" );
    }

    _id_0D61::_id_93EB( 1 );
    level._id_1176A = _id_107F0( var_1, var_2 );
    level._id_1176A setorigin( var_2.origin, 0 );
    level._id_1176A.angles = var_2.angles;
    level._id_1176A hide( 1 );
    wait 0.5;
    level._id_1176A linkto( var_2 );
    level._id_1176A _meth_8234();
    var_2._id_12F87 thread _id_A6E2();
    var_2 playsound( "neil_upgrade_rocket_launch_land" );
    playfx( level._effect["neil_flash"], var_3 );
    wait 0.75;
    var_2 show();
    var_2._id_12F87 show();
    var_2._id_12F87 _id_BEDF( "kitt" );
    var_2._id_12F87 setscriptablepartstate( "facefx", "kitt" );
    var_2 setscriptablepartstate( "thrusters", "liftoff" );
    level._id_1176A show();
    level._id_1176A takeallweapons();
    level.the_hoff_revive = 1;
    _id_1176C( var_2 );
    level._id_1176A._id_0180 = 0;
    level._id_1176A._id_EF64 = 0;
    level._id_1176A thread _id_1176D();
    var_4 = 120 + 60 * level._id_3C16;
    level._id_1176A scripts\engine\utility::_id_13736( var_4, "death" );
    level.the_hoff_revive = undefined;
    level notify( "hoff_death" );

    if ( _id_0A77::_id_9F02() || scripts\engine\utility::_id_9CEE( level._id_C552 ) )
    {
        if ( !isalive( level.players[0] ) || scripts\engine\utility::_id_9CEE( level.players[0]._id_98F3 ) )
            level thread [[ level.endgame ]]( "axis", level._id_62D1["kia"] );
    }

    if ( isdefined( level._id_1176A ) && isalive( level._id_1176A ) )
    {
        level._id_1176A playsound( "dj_kitt_notify_departure" );
        _id_5559( 0 );
        level._id_1176A notify( "timetogo" );
        var_5 = getclosestpointonnavmesh( level._id_BEAB.origin + ( _id_0A77::_id_13192( anglestoforward( level._id_BEAB.angles ), 52 ) + _id_0A77::_id_13192( anglestoleft( level._id_BEAB.angles ), 11 ) ) );
        level._id_1176A._id_EF64 = 1;
        level._id_1176A _id_0F62::_id_F835( var_5, 6 );
        level._id_1176A._id_55B0 = 1;
        level._id_1176A._id_0180 = 1;
        level._id_1176A scripts\engine\utility::_id_13736( 150, "scriptedGoal_reached" );
        level._id_BEAB._id_12F87 scriptmodelplayanim( "IW7_cp_zom_n31l_intro_enter", 1 );
        wait 0.75;
        level._id_BEAB._id_12F87 thread _id_A6E2();
        level._id_1176A._id_FFF3 = 1;
        level._id_1176A setorigin( level._id_BEAB.origin + ( _id_0A77::_id_13192( anglestoforward( level._id_BEAB.angles ), 52 ) + _id_0A77::_id_13192( anglestoleft( level._id_BEAB.angles ), 11 ) ), 0 );
        wait 7;
        level._id_1176A takeallweapons();
        _func_278( "neil" );
        level._id_BEAB._id_12F87 setmodel( "robot_kevin_upper_invisi" );
        level._id_BEAB setmodel( "robot_kevin_lower_invisi" );
        level._id_BEAB._id_12F87 setscriptablepartstate( "facefx", "off" );
        level._id_BEAB._id_12F87 notify( "start_intro" );
        level._id_BEAB._id_12F87 scriptmodelclearanim();
        var_2 = _id_106EF( level._id_BEAB );
        var_2._id_12F87 thread _id_A6E2();
        level._id_1176A linkto( var_2 );
        level._id_1176A _meth_8234();
        scripts\engine\utility::_id_6E3E( "landing_zone_active" );
        level thread _id_A82C();
        var_2 playsound( "neil_upgrade_rocket_launch_takeoff_hoff_exit" );
        level._id_1176A playsound( "dj_kitt_departure" );
        wait 3;
        var_2 notsolid();
        var_2._id_12F87 notsolid();
        var_2 _meth_8212( 2000, 3, 2, 1 );
        var_2 waittill( "movedone" );
        var_2._id_12F87 setscriptablepartstate( "facefx", "kitt" );
        playfx( level._effect["neil_flash"], var_2.origin );
        level._id_1176A._id_C026 = 1;
        level._id_1176A unlink();
        level._id_1176A suicide();
        var_2 playsound( "neil_upgrade_rocket_launch_land" );
        var_6 = level._id_BEAB.origin;
        var_2 _meth_8212( -2000, 6, 4, 2 );
        wait 3;
        _func_277( "neil", 0, level._id_BEAB, 20, 1 );
        level._id_BEAB setscriptablepartstate( "landing", "on" );
        wait 3;
        scripts\engine\utility::_id_6E2A( "landing_zone_active" );
        level._id_BEAB setmodel( level._id_BEB1 );
        level._id_BEAB._id_12F87 setmodel( level._id_BEB2 );
        level._id_BEAB._id_12F87 _id_BEDF( "kitt" );
        level._id_BEAB._id_12F87 setscriptablepartstate( "facefx", "kitt" );
        var_2._id_12F87 delete();
        var_2 delete();
        scripts\engine\utility::_id_6E2A( "halt_neil" );
        scripts\engine\utility::_id_6E2A( "transform" );
    }

    _id_0D61::_id_4FB8( 1 );
    level._id_1176A = undefined;
    wait 5;
    scripts\cp\maps\cp_zmb\cp_zmb_dj::_id_F93F();
    level._id_572A._id_4BBE = undefined;
    level thread scripts\cp\maps\cp_zmb\cp_zmb_dj::_id_573F();
    level._id_572A show();
    level._id_550B = undefined;
    scripts\cp\maps\cp_zmb\cp_zmb_dj::_id_F35B( "open_window" );
    scripts\engine\utility::_id_6E3E( "transformation_complete" );
    _id_61CF();
}

_id_A6E2()
{
    self endon( "start_intro" );
    self endon( "death" );

    for (;;)
    {
        self scriptmodelplayanim( "IW7_cp_zom_n31l_intro_loop", 1 );
        wait 1.3;
    }
}

_id_1176C( var_0 )
{
    var_1 = var_0.origin + ( 0, 0, -2000 );
    var_0 _meth_8212( -2000, 6, 4, 2 );
    wait 3;
    level._id_BEAB setscriptablepartstate( "landing", "on" );
    wait 2;
    level._id_1176A._id_FFEF = undefined;
    level._id_1176A scripts\asm\asm::_id_2330( "introloop", "introdone" );
    wait 1;
    level._id_1176A scripts\mp\mp_agent::_id_FAFA( "iw7_erad_zm" );
    stopfxontag( level._effect["neil_trail"], var_0, "tag_origin" );
    scripts\engine\utility::_id_6E2A( "landing_zone_active" );
    level._id_1176A unlink();
    level._id_BEAB setmodel( level._id_BEB1 );
    level._id_BEAB._id_12F87 setmodel( level._id_BEB2 );
    level._id_BEAB._id_12F87 _id_BEDF( "kitt" );
    level._id_BEAB._id_12F87 thread _id_A6E2();
    var_0._id_12F87 delete();
    var_0 delete();
    level._id_BEAB _meth_83E7( level._id_BEAB.origin, level._id_BEAB.angles );
    level._id_BEAB._id_12F87 setscriptablepartstate( "facefx", "kitt" );
    level._id_1176A._id_54CB = 1;
    wait 4;
    level._id_BEAB._id_12F87 notify( "start_intro" );
    level._id_BEAB._id_12F87 scriptmodelplayanim( "IW7_cp_zom_n31l_intro_exit", 1 );
    wait 1;
    level._id_1176A playsound( "dj_kitt_arrival" );
    wait 4;
    scripts\engine\utility::_id_6E2A( "halt_neil" );
    scripts\engine\utility::_id_6E2A( "transform" );
}

_id_107F0( var_0, var_1 )
{
    _id_F447();
    level._id_A6E1 = 1;
    var_2 = undefined;

    while ( !isdefined( var_2 ) )
    {
        var_2 = _id_0D61::_id_33B1( "the_hoff", var_1.origin, var_1.angles, "allies", undefined, var_0 );

        if ( !isdefined( var_2 ) )
        {
            wait 0.2;
            continue;
        }
    }

    var_2._id_1491._id_E5DE = 5;
    var_2.health = 1000 * level._id_3C16;
    var_2.maxhealth = 1000 * level._id_3C16;
    var_2._id_0033 = 0;
    var_2._id_0184 = 1;
    var_2._id_0180 = 1;
    var_2._id_EF64 = 1;
    var_2._id_3842 = 1;
    var_2._id_FFEF = 1;

    foreach ( var_4 in level.players )
        var_4 notify( "hoff_spawned" );

    return var_2;
}

_id_1176D()
{
    self endon( "death" );
    self endon( "timetogo" );
    self _meth_8287( 48 );
    self._id_013C = 1500;

    for (;;)
    {
        _id_1176B();
        _id_1176F();
        wait 1;
    }
}

_id_1176F()
{
    if ( !isdefined( self._id_010C ) )
        _id_83FF();
    else if ( self _meth_805F( self._id_010C ) )
        self._id_EF64 = 0;
    else
        _id_83FF();
}

_id_1176B()
{
    var_0 = _id_78C4();

    if ( isdefined( var_0 ) )
    {
        _id_8419( var_0 );
        self._id_EF64 = 0;

        if ( isalive( self ) )
        {
            self._id_0180 = 0;
            _id_0F62::_id_41D9();
            self._id_55B0 = 0;
        }
    }
}

_id_8419( var_0 )
{
    var_0 endon( "death" );
    var_0 endon( "reviving" );
    var_0 endon( "revive" );
    var_0 endon( "disconnect" );
    self endon( "death" );
    self endon( "timetogo" );
    _id_0F62::_id_41D9();

    if ( distancesquared( self.origin, var_0.origin ) > 16000000 )
        return;

    self._id_EF64 = 1;
    _id_0F62::_id_F832( var_0, 48, 0 );
    self._id_55B0 = 1;
    self._id_0180 = 1;
    self waittill( "scriptedGoal_reached" );
    self._id_55B0 = 0;
    self._id_0180 = 0;

    if ( !isdefined( var_0._id_E4A9 ) )
        return;

    var_0._id_E4A9 notify( "trigger", self );
    wait 4;
}

_id_83FF()
{
    var_0 = _id_0A77::_id_7833( 1, self.origin );
    var_1 = scripts\engine\utility::_id_7E2E( self.origin, var_0 );

    if ( !isdefined( var_1 ) )
        return;

    var_2 = var_1.origin - self.origin;
    var_3 = length2dsquared( var_2 );

    if ( var_3 < 62500 )
        return;

    var_4 = gettime();

    if ( isdefined( self._id_A8EF ) && var_4 - self._id_A8EF < 500 )
        return;

    self._id_A8EF = var_4;
    var_5 = vectornormalize( var_2 );
    var_6 = var_1.origin - var_5 * 128;
    var_7 = getclosestpointonnavmesh( var_6, self );
    _id_0F62::_id_F834( 1, 120 );
    _id_0F62::_id_F835( var_7, 2 );
    self._id_3320 = 1;
}

_id_78C4()
{
    var_0 = sortbydistance( level.players, self.origin );

    foreach ( var_2 in var_0 )
    {
        if ( _id_0A5B::_id_D0EF( var_2 ) && !scripts\engine\utility::_id_9CEE( var_2._id_9B79 ) && !scripts\engine\utility::_id_9CEE( var_2._id_9387 ) )
            return var_2;
    }

    return undefined;
}

_id_A82C()
{
    wait 0.1;
    level._id_BEAB setscriptablepartstate( "lingerfx", "on" );
    level thread _id_A56E( level._id_BEAB.origin );

    while ( scripts\engine\utility::_id_6E25( "landing_zone_active" ) )
        wait 0.1;

    level._id_BEAB setscriptablepartstate( "landing", "off" );
    level._id_BEAB setscriptablepartstate( "lingerfx", "off" );
}

_id_A56E( var_0 )
{
    var_1 = spawn( "trigger_radius", var_0, 0, 40, 72 );
    level thread _id_51CE( var_1 );

    while ( scripts\engine\utility::_id_6E25( "landing_zone_active" ) )
    {
        var_1 waittill( "trigger", var_2 );

        if ( isdefined( level._id_1176A ) && var_2 == level._id_1176A )
            continue;

        if ( isdefined( var_2._id_C85F ) )
            continue;

        if ( !scripts\engine\utility::_id_6E25( "landing_zone_active" ) )
            continue;

        if ( isplayer( var_2 ) )
        {
            var_2 _meth_80B0( 5, var_0 );
            var_2._id_C85F = 1;
            var_2 _meth_8366( vectornormalize( var_2.origin - var_0 ) * 100 );
            var_2 thread _id_E069();
            continue;
        }

        if ( _id_0A77::_id_FF18( var_2 ) )
        {
            var_2._id_C026 = 1;
            var_2._id_74B5 = 1;
            var_2 _meth_80B0( var_2.health + 100, var_0 );
        }
    }

    var_1 delete();
}

_id_51CE( var_0 )
{
    var_0 endon( "death" );

    while ( isdefined( var_0 ) )
    {
        var_1 = getentarray( "placed_transponder", "script_noteworthy" );

        foreach ( var_3 in var_1 )
        {
            if ( !isdefined( var_0 ) )
                break;

            if ( var_3 istouching( var_0 ) )
            {
                if ( isdefined( var_3.owner ) && var_3.owner _id_0A77::_id_9D05( 1 ) )
                    var_3.owner playlocalsound( "ww_magicbox_laughter" );

                var_3 notify( "detonateExplosive" );
            }
        }

        wait 0.25;
    }
}

_id_E069()
{
    self endon( "disconnect" );
    wait 0.25;
    self._id_C85F = undefined;
}

_id_7895( var_0, var_1 )
{
    if ( !isdefined( level._id_3C12 ) )
        level._id_3C12 = var_1;

    var_2 = undefined;

    if ( level.players.size > 1 )
        var_2 = scripts\engine\utility::_id_DC6B( level._id_3C12 );
    else
    {
        for (;;)
        {
            if ( level._id_3C12.size == 0 )
                level._id_3C12 = level._id_6ACD;

            var_2 = scripts\engine\utility::_id_DC6B( level._id_3C12 );

            if ( !level._id_3C17[var_2]._id_1C8C )
            {
                level._id_3C12 = scripts\engine\utility::array_remove( level._id_3C12, var_2 );
                wait 0.05;
                continue;
            }
            else
                break;
        }
    }

    return var_2;
}

_id_8320()
{
    wait 3;

    foreach ( var_1 in level.players )
        scripts\engine\utility::waitframe();

    wait 1;
    level thread _id_833D( 25 + level._id_13BD3 * 5 );
    level thread _id_833E( 100 );
}

_id_BEE1( var_0, var_1, var_2, var_3 )
{
    if ( !isdefined( var_1 ) )
        var_1 = ( 0, 0, 0 );

    var_4 = ( 0, 0, 0 );

    if ( isdefined( var_0.angles ) )
        var_4 = var_0.angles;

    var_5 = spawnvehicle( var_2, "neil", "cp_kevin", var_0.origin + var_1, var_4 );
    var_5._id_13084 = getent( "neil_usetrig", "targetname" );
    var_5._id_13084.origin = var_5.origin + ( 0, 0, 60 );
    var_5._id_13084 linkto( var_5 );
    var_5 setcandamage( 0 );

    if ( scripts\engine\utility::_id_9CEE( var_3 ) )
    {
        var_5._id_9C48 = 1;
        var_5._id_12F87 = spawn( "script_model", var_5.origin );
        var_5._id_12F87.angles = var_5.angles;
        var_5._id_12F87 setmodel( level._id_BEB2 );
        var_5._id_12F87 linkto( var_5 );
    }

    return var_5;
}

_id_F999( var_0 )
{
    level._id_BEAB = _id_BEE1( var_0, undefined, level._id_8C89 );
    level._id_BEAB attachpath( var_0 );
    level._id_BEDC = spawnfx( level._effect["neil_repair_sparks"], level._id_BEAB gettagorigin( "tag_fx" ) );
    wait 1;
    triggerfx( level._id_BEDC );
    level._id_BEAB _meth_8364( "allies" );
    level._id_BEAB._id_13084 makeunusable();
    level thread _id_BEDE( level._id_BEAB );
}

_id_BEDE( var_0 )
{
    level endon( "stop_repair_sounds" );

    for (;;)
        wait 1;
}

_id_BECC( var_0 )
{
    wait 1;
    _id_BEC4();
}

_id_BECD( var_0 )
{
    if ( !isdefined( var_0 ) || isdefined( level._id_BEE3 ) )
        return;

    level._id_BEE3 = 1;

    if ( !isdefined( level._id_BEAB._id_101F6 ) )
        level._id_BEAB._id_101F6 = gettime() + 5000;
    else if ( level._id_BEAB._id_101F6 >= gettime() )
    {
        level._id_BEE3 = undefined;
        return;
    }

    level._id_BEAB._id_101F6 = gettime() + 5000;
    var_1 = lookupsoundlength( var_0 );

    if ( soundexists( var_0 ) )
        self playsound( var_0 );

    thread _id_BEBF( var_1 );
    wait( var_1 / 1000 );
    level._id_BEE3 = undefined;
}

_id_11025()
{
    self endon( "death" );
    wait 3;
    var_0 = 6400;

    for (;;)
    {
        if ( !_id_203C( self.origin, var_0 ) || isdefined( self._id_1E8F ) || scripts\engine\utility::_id_6E25( "transform" ) )
        {
            wait 0.25;
            continue;
        }

        self stoploopsound();
        self playsound( "neil_mvmt_stop" );
        self _meth_83E6( 0 );
        scripts\engine\utility::_id_6E3E( "halt_neil" );
        self setscriptablepartstate( "smoketrail", "off" );
        self._id_12F87 scriptmodelclearanim();
        self._id_12F87 scriptmodelplayanim( "IW7_cp_zom_n31l_halt", 1 );

        if ( !isdefined( self._id_118E0 ) )
        {
            self._id_118E0 = gettime() + 30000;
            self._id_12F87 thread _id_BECD( "n31l_spawn_assembly" );
        }
        else if ( self._id_118E0 <= gettime() )
        {
            self._id_118E0 = gettime() + 30000;
            self._id_12F87 thread _id_BECD( "n31l_spawn_assembly" );
        }

        while ( _id_203C( self.origin, var_0 ) || scripts\engine\utility::_id_6E25( "transform" ) )
            wait 0.5;

        self playsound( "neil_mvmt_start" );
        self playloopsound( "neil_mvmt_lp" );
        self vehicle_setspeed( 2, 1, 1 );
        scripts\engine\utility::_id_6E2A( "halt_neil" );
        self._id_12F87 _id_BEDF( "happy_line" );
        self setscriptablepartstate( "smoketrail", "on" );
    }
}

_id_BEBF( var_0 )
{
    self endon( "neil_quiet" );
    self endon( "death" );
    var_1 = gettime();
    var_2 = var_1 + var_0;
    var_3 = gettime();

    while ( var_3 <= var_2 )
    {
        if ( isdefined( self._id_1E8F ) )
        {
            wait 0.5;
            continue;
        }

        var_3 = gettime();
        _id_BEDF( scripts\engine\utility::_id_DC6B( [ "oface", "happy_line", "happy" ] ) );
        wait 0.75;
    }
}

_id_BEDF( var_0 )
{
    if ( isdefined( level._id_A6E1 ) )
        var_0 = "kitt";

    switch ( var_0 )
    {
        case "happy":
            self setscriptablepartstate( "happy", "show" );
            break;
        case "sad":
            self setscriptablepartstate( "sad", "show" );
            break;
        case "angry":
            self setscriptablepartstate( "angry", "show" );
            break;
        case "oface":
            self setscriptablepartstate( "oface", "show" );
            break;
        case "happy_line":
            self setscriptablepartstate( "happy_line", "show" );
            break;
        case "angry_line":
            self setscriptablepartstate( "angry_line", "show" );
            break;
        case "kitt":
            self setscriptablepartstate( "kitt", "show" );
            break;
    }
}

_id_203C( var_0, var_1 )
{
    var_2 = 0;

    foreach ( var_4 in level.players )
    {
        if ( var_4 _id_0A77::_id_9D05() && distancesquared( var_4.origin, var_0 ) < var_1 )
            return 1;
    }

    return 0;
}

_id_CB37( var_0, var_1 )
{
    var_1 playlocalsound( "neil_part_pickup" );
    playfx( level._effect["souvenir_pickup"], var_0._id_BEC5.origin );
    _id_0A59::_id_E019( var_0 );
    var_0._id_BEC5 delete();
    level._id_BEC7 = 1;
    level _id_0A77::_id_F55F( 7 );
    level._id_13BD1 = level._id_13BD3;

    if ( randomint( 100 ) > 90 )
        var_1 thread _id_0A6A::_id_12885( "collect_n31l", "zmb_comment_vo", "low", 10, 0, 0, 0, 50 );
    else
        var_1 thread _id_0A6A::_id_12885( "quest_n31l_find_head", "zmb_comment_vo", "highest", 10, 1, 0, 0, 100 );

    level thread _id_CDA9( var_1 );
}

_id_CDA9( var_0 )
{
    var_0 endon( "disconnect" );
    level endon( "game_ended" );
    var_0 thread _id_0A6A::_id_1769( "nag_return_n31lpart", "zmb_comment_vo", 60, 60, 3, 1 );
    wait 4;
    level thread _id_0A6A::_id_12885( "ww_N3il_construction", "zmb_ww_vo", "highest", 60, 0, 0, 1 );
    wait 1;
    level thread _id_0A6A::_id_1769( "dj_n3il_part_recovered_nag", "zmb_dj_vo", 60, 120, 3, 1 );
}

_id_CB32( var_0, var_1 )
{
    var_1 playlocalsound( "neil_part_pickup" );
    playfx( level._effect["souvenir_pickup"], var_0._id_C909.origin );
    _id_0A59::_id_E019( var_0 );
    var_0._id_C909 delete();
    level._id_13BCD = level._id_13BD3;

    if ( randomint( 100 ) > 90 )
        var_1 thread _id_0A6A::_id_12885( "collect_n31l", "zmb_comment_vo", "low", 10, 0, 0, 0, 50 );
    else
        var_1 thread _id_0A6A::_id_12885( "quest_n31l_find_battery", "zmb_comment_vo", "highest", 10, 1, 0, 0, 100 );

    level._id_BEB0 = 1;
    level _id_0A77::_id_F55F( 8 );
    level._id_BEAB._id_13084 sethintstring( &"CP_ZMB_INTERACTIONS_LOAD_BATTERY" );
}

_id_CB34( var_0, var_1 )
{
    var_1 playlocalsound( "neil_part_pickup" );
    playfx( level._effect["souvenir_pickup"], var_0._id_C909.origin );
    _id_0A59::_id_E019( var_0 );
    var_0._id_C909 delete();
    level._id_13BCF = level._id_13BD3;

    if ( randomint( 100 ) > 90 )
        var_1 thread _id_0A6A::_id_12885( "collect_n31l", "zmb_comment_vo", "low", 10, 0, 0, 0, 50 );
    else
        var_1 thread _id_0A6A::_id_12885( "quest_n31l_find_disc", "zmb_comment_vo", "highest", 10, 1, 0, 0, 100 );

    level._id_BEC3 = 1;
    level _id_0A77::_id_F55F( 9 );
    level._id_BEAB._id_13084 sethintstring( &"CP_ZMB_INTERACTIONS_LOAD_FLOPPY" );
}

_id_9696( var_0 )
{
    var_1 = scripts\engine\utility::_id_8180( "neil_battery", "script_noteworthy" );

    foreach ( var_3 in var_1 )
        _id_0A59::_id_E019( var_3 );
}

_id_10778( var_0 )
{
    var_1 = _id_1077B( "neil_battery", "space_interior_power_adapter" );
    level._id_BEAE = var_1._id_9A3E;
}

_id_9697( var_0 )
{
    var_1 = scripts\engine\utility::_id_8180( "neil_firmware", "script_noteworthy" );

    foreach ( var_3 in var_1 )
        _id_0A59::_id_E019( var_3 );
}

_id_10779()
{
    var_0 = _id_1077B( "neil_firmware", "zmb_n31l_robot_minifloppy" );
    level._id_BEC1 = var_0._id_9A3E;
}

_id_1077B( var_0, var_1 )
{
    var_2 = scripts\engine\utility::_id_8180( var_0, "script_noteworthy" );
    var_3 = scripts\engine\utility::_id_DC6B( var_2 );

    foreach ( var_5 in var_2 )
    {
        if ( var_5 == var_3 )
        {
            _id_0A59::_id_175C( var_5 );
            break;
        }
    }

    var_7 = scripts\engine\utility::_id_817E( var_3._id_0334, "targetname" );
    var_8 = spawn( "script_model", var_7.origin );

    if ( isdefined( var_7.angles ) )
        var_8.angles = var_7.angles;

    var_3._id_C909 = var_8;
    var_8._id_9A3E = var_3;
    var_8 setmodel( var_1 );
    var_8 notsolid();
    return var_8;
}

_id_1077A()
{
    var_0 = scripts\engine\utility::_id_817E( "neil_head", "script_noteworthy" );
    var_1 = scripts\engine\utility::_id_817E( var_0._id_0334, "targetname" );
    var_2 = spawn( "script_model", var_1.origin );
    var_2.angles = var_1.angles;
    var_2 setmodel( level._id_BEC8 );
    var_2 notsolid();
    scripts\engine\utility::waitframe();
    var_0._id_BEC5 = var_2;
    wait 1;
    level._id_BEC5 = var_0;
}

_id_BE86()
{
    self endon( "disconnect" );
    self _meth_80F4( &"COOP_INTERACTIONS_NEED_MONEY" );
    wait 1;
    self _meth_80F3();
}

_id_1176E()
{
    for (;;)
    {
        scripts\engine\utility::_id_6E4C( "transformation_complete" );
        _id_BEAC();
        level._id_BEAB _meth_83E7( level._id_BEAB.origin, level._id_BEAB.angles );
        level._id_BEAB vehicle_setspeed( 2, 1, 1 );

        for (;;)
        {
            level._id_BEAB._id_13084 waittill( "trigger", var_0 );

            if ( !var_0 _id_0A77::_id_9D05() || isdefined( level._id_BEAB._id_4613 ) )
                continue;

            if ( !var_0 _id_0A63::_id_D0BB( 5000 ) )
            {
                if ( soundexists( "purchase_deny" ) )
                    var_0 playlocalsound( "purchase_deny" );

                var_0 thread _id_0A6A::_id_12885( "no_cash", "zmb_comment_vo", "high", 3, 0, 0, 1 );
                var_0 thread _id_BE86();
                continue;
            }
            else
                var_0 _id_0A63::_id_11445( 5000, 1, "trap" );

            break;
        }

        level._id_BEAB._id_13084 makeunusable();
        level._id_BEAB._id_12F87 thread _id_BECD( "n31l_challenge_success_generic_dj" );
        wait 3;
        level._id_BEAB notify( "neil_quiet" );
        _id_12636( level._id_BEAB, "iw7_erad_zm+eradpap2" );
    }
}

_id_BEAC()
{
    stopfxontag( level._id_BECF, level._id_BEAB, "tag_fx" );
    level._id_BEAB._id_6265 = 0;
    level._id_BEAB._id_4613 = 1;
    level._id_BEAB._id_13084 makeusable();
    level._id_BEAB._id_13084 sethintstring( &"CP_ZMB_CHALLENGES_REBOOTING" );
    var_0 = 120;
    wait( var_0 );
    level._id_BEAB._id_13084 _meth_84A2( 90 );
    level._id_BEAB._id_13084 _meth_84A5( 180 );
    _id_BEBD( level._id_BEAB, &"CP_ZMB_CHALLENGES_BUY_NEIL" );
    level._id_BEAB._id_4613 = undefined;
}

_id_DB29( var_0 )
{
    self startpath();
    self vehicle_setspeed( 2, 1, 1 );
    thread _id_BED0( var_0 );
}

_id_BED0( var_0 )
{
    self endon( "death" );
    thread _id_BEE4();
    thread _id_BEBA();
    thread _id_BECE();
    thread _id_11025();
    self setscriptablepartstate( "smoketrail", "on" );

    for (;;)
    {
        self waittill( "reached_end_node" );
        self startpath( var_0 );

        while ( scripts\engine\utility::_id_6E25( "transform" ) )
            wait 1;
    }
}

_id_BEE4()
{
    self endon( "death" );
    self stoploopsound();
    self playsound( "neil_mvmt_start" );
    self playloopsound( "neil_mvmt_lp" );
    var_0 = 0;

    for (;;)
    {
        while ( scripts\engine\utility::_id_6E25( "transform" ) || scripts\engine\utility::_id_6E25( "halt_neil" ) )
        {
            wait 0.1;
            var_0 = 0;
        }

        while ( isdefined( self._id_0225 ) )
        {
            wait 0.1;
            var_0 = 0;
        }

        if ( var_0 == 0 )
        {
            self._id_12F87 scriptmodelclearanim();
            self._id_12F87 scriptmodelplayanim( "IW7_cp_zom_n31l_walk", 1 );
        }

        wait 0.1;
        var_0 = var_0 + 1;

        if ( var_0 >= 70 )
            var_0 = 0;
    }
}

_id_BEBA()
{
    self endon( "death" );
    self._id_12F87 setcandamage( 1 );
    self._id_12F87.health = 1000000;

    for (;;)
    {
        while ( scripts\engine\utility::_id_6E25( "transform" ) )
            wait 1;

        self._id_12F87 waittill( "damage", var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8, var_9 );
        self._id_12F87 playsound( "neil_impact" );
        self._id_12F87 scriptmodelclearanim();
        self._id_12F87 scriptmodelplayanim( "IW7_cp_zom_n31l_hit", 1 );
        self._id_12F87.health = 1000000;
        scripts\engine\utility::waitframe();
        self._id_12F87 playsound( "neil_emote_angry_face" );
        self._id_12F87 _id_BEDF( scripts\engine\utility::_id_DC6B( [ "angry", "angry_line" ] ) );
        self._id_12F87 thread _id_E493();
        self._id_0225 = 1;
        wait 0.5;
        self._id_0225 = undefined;
    }
}

_id_E493()
{
    self endon( "death" );
    self endon( "transform" );
    self endon( "damage" );
    self._id_1E8F = 1;
    wait 2;
    self._id_1E8F = undefined;
    _id_BEDF( "happy_line" );
}

_id_4EFA()
{
    var_0 = scripts\engine\utility::_id_817E( "neil_repair", "script_noteworthy" );

    if ( isdefined( level._id_BEC5._id_BEC5 ) )
    {
        _id_CB37( level._id_BEC5, level.players[0] );
        wait 1;
        _id_1728( var_0, level.players[0] );
        return;
    }
    else if ( isdefined( level._id_BEAE ) && isdefined( level._id_BEAE._id_C909 ) )
        _id_CB32( level._id_BEAE, level.players[0] );
    else if ( isdefined( level._id_BEC1 ) && isdefined( level._id_BEC1._id_C909 ) )
        _id_CB34( level._id_BEC1, level.players[0] );

    wait 0.5;
    level._id_BEAB._id_13084 notify( "trigger", level.players[0] );
    wait 1;
    _id_1728( var_0, level.players[0] );
}

_id_BEDD( var_0, var_1 )
{
    if ( isdefined( level._id_BEC7 ) )
        return &"CP_ZMB_INTERACTIONS_ATTACH_HEAD";

    if ( isdefined( level._id_BEB0 ) )
        return &"CP_ZMB_INTERACTIONS_LOAD_BATTERY";

    if ( isdefined( level._id_BEC3 ) )
        return &"CP_ZMB_INTERACTIONS_LOAD_FLOPPY";

    if ( !isdefined( level._id_BEC7 ) )
        return &"CP_ZMB_INTERACTIONS_MISSING_HEAD";

    return &"CP_ZMB_INTERACTIONS_REPAR_NEIL";
}

_id_1728( var_0, var_1 )
{
    if ( isdefined( level._id_BEC7 ) )
    {
        var_1 playlocalsound( "neil_part_place" );
        var_1 thread _id_0A6A::_id_12885( "challenge_n31l_head", "zmb_comment_vo", "highest", 10, 1, 0, 0, 100 );
        var_1 thread _id_0A6A::_id_12885( "part_assemble_n31l", "zmb_comment_vo", "low", 10, 0, 0, 0, 50 );
        level thread _id_0A6A::_id_E01F( "dj_n3il_part_recovered_nag" );
        level thread _id_0A6A::_id_E01F( "nag_return_n31lpart" );
        level._id_BEDC delete();
        level notify( "stop_repair_sounds" );
        level._id_BEAB setmodel( level._id_74B8 );
        level._id_BEC6 = 1;
        level._id_BEC7 = undefined;
        var_1 thread _id_0A57::_id_12AAE( "quest_neil" );
        scripts\engine\utility::_id_6E3E( "neil_head_attached" );
        var_2 = getent( "neil_repair_clip", "targetname" );
        var_2 connectpaths();
        var_2 delete();
        _id_0A59::_id_E019( var_0 );
    }
    else if ( isdefined( level._id_BEB0 ) )
    {
        var_1 playlocalsound( "neil_part_place" );
        level._id_BEAF = 1;
        var_1 thread _id_0A6A::_id_12885( "challenge_n31l_battery", "zmb_comment_vo", "highest", 10, 1, 0, 0, 100 );
        scripts\engine\utility::_id_6E3E( "neil_battery_attached" );
        level thread _id_0A6A::_id_E01F( "nag_return_n31lpart" );
        level._id_BEB0 = undefined;
    }
    else if ( isdefined( level._id_BEC3 ) )
    {
        var_1 playlocalsound( "neil_part_place" );
        level._id_BEC2 = 1;
        var_1 thread _id_0A6A::_id_12885( "challenge_n31l_disk", "zmb_comment_vo", "highest", 10, 1, 0, 0, 100 );
        level thread _id_0A6A::_id_E01F( "nag_return_n31lpart" );
        scripts\engine\utility::_id_6E3E( "neil_firmware_attached" );
        level._id_BEC3 = undefined;
    }

    if ( isdefined( var_1 ) )
        var_1 _id_0A59::_id_DE6E();
}

_id_833E( var_0 )
{
    foreach ( var_2 in level.players )
    {
        var_2 _id_0A63::_id_831D( var_0, 1 );
        wait 0.05;
    }
}

_id_BEC4()
{
    wait 0.5;
    level thread _id_833D( 25 );
}

_id_833D( var_0 )
{
    foreach ( var_2 in level.players )
    {
        var_2 _id_0D2B::_id_8317( var_2, var_0 );
        wait 0.05;
    }
}

_id_1C5F()
{
    level._id_BEAB endon( "death" );
    level._id_BEAB endon( "transform" );
    level endon( "failed_too_many_times" );
    level endon( "neil_enabled_changed" );
    level._id_1C3F = 1;

    for (;;)
    {
        _id_BEBD( level._id_BEAB, &"CP_ZMB_INTERACTIONS_PAUSE_CHALLENGES", 1 );

        for (;;)
        {
            level._id_BEAB._id_13084 waittill( "trigger", var_0 );

            if ( !var_0 _id_0A77::_id_9D05() )
                continue;

            break;
        }

        _id_BEBC( level._id_BEAB );
        scripts\engine\utility::_id_6E3E( "pause_challenges" );
        level thread _id_0A4D::_id_C9B9();
        level._id_BEAB._id_12F87 thread _id_BECD( "n31l_spawn_assembly" );
        wait 5;
        _id_BEBD( level._id_BEAB, &"CP_ZMB_CHALLENGES_RESUME_CHALLENGE", 1 );

        for (;;)
        {
            level._id_BEAB._id_13084 waittill( "trigger", var_0 );

            if ( !var_0 _id_0A77::_id_9D05() )
                continue;

            break;
        }

        _id_BEBC( level._id_BEAB );
        level._id_BEAB._id_12F87 thread _id_BECD( "n31l_challenge_reactivate" );
        scripts\engine\utility::_id_6E2A( "pause_challenges" );

        foreach ( var_0 in level.players )
            var_0 setclientomnvar( "zm_show_challenge", 11 );

        wait 5;
    }
}

_id_BEC0()
{
    level notify( "failed_too_many_times" );
    scripts\engine\utility::_id_6E3E( "pause_challenges" );
    level waittill( "next_challenge_starting" );
    level._id_1C3F = undefined;
    _id_BEBD( level._id_BEAB, &"CP_ZMB_CHALLENGES_RESUME_CHALLENGE" );

    for (;;)
    {
        level._id_BEAB._id_13084 waittill( "trigger", var_0 );

        if ( !var_0 _id_0A77::_id_9D05() )
            continue;

        break;
    }

    _id_BEBC( level._id_BEAB );
    scripts\engine\utility::_id_6E2A( "pause_challenges" );
    level._id_6ACC = 0;
    level._id_BEAB._id_12F87 thread _id_BECD( "n31l_spawn_assembly" );
    wait 6;
    _id_BEBD( level._id_BEAB, &"CP_ZMB_INTERACTIONS_PAUSE_CHALLENGES" );

    if ( !isdefined( level._id_1C3F ) )
        level._id_BEAB thread _id_1C5F();
}

_id_BECE()
{
    self endon( "death" );
    var_0 = 1225;
    var_1 = 4096;

    for (;;)
    {
        while ( scripts\engine\utility::_id_6E25( "transform" ) )
            wait 1;

        var_2 = _id_0A4A::_id_7DB0( "axis" );
        var_2 = sortbydistance( var_2, self.origin );
        var_3 = var_2[0];
        var_4 = getentarray( "placed_transponder", "script_noteworthy" );

        if ( !isdefined( var_3 ) && var_4.size == 0 )
        {
            wait 0.1;
            continue;
        }

        if ( isdefined( var_3 ) )
        {
            if ( distance2dsquared( self.origin, var_3.origin ) < var_0 && ( scripts\engine\utility::_id_9CEE( var_3._id_9BB0 ) || scripts\engine\utility::_id_9CEE( var_3._id_9E0C ) ) )
                var_3 _meth_80B0( var_3.health + 100, self.origin );
        }

        foreach ( var_6 in var_4 )
        {
            if ( distance2dsquared( self.origin, var_6.origin ) < var_1 )
            {
                if ( isdefined( var_6.owner ) && var_6.owner _id_0A77::_id_9D05( 1 ) )
                    var_6.owner playlocalsound( "ww_magicbox_laughter" );

                var_6 notify( "detonateExplosive" );
            }
        }

        wait 1;
    }
}
